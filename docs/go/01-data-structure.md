# Data Structure In Go

## Slice

### 数组

**数组**是相同类型元素的集合，将数据保存在一块连续并且长度固定的内存上。 数组可以通过索引快速访问特定元素。 在描述数组时，通常会从2个维度，一个是**元素类型**，另一是最大存储**元素个数**。

- 初始化(不同元素个数会影响元素的存储位置>4放置静态存储区)
  - 显式创建：`arr := [3]int{1,2,3}`
  - 隐式创建：`arr := [...]int{1,2,3}` (编译期间会遍历元素进行推导)
- 访问和赋值(访问越界)
  - 静态代码检查
  - 编译期间检查

### Slice

**Slice**是动态数组，长度不固定，可以追加元素，容量不足时会进行扩容。Slice 的申明不需要指定元素个数。

- 初始化
  - 通过下标：`arr[0:3]` `slice[0:3]`
  - 直接声明：`slice := int{1,2,3}`
  - 用关键字：`slice := make([]int,10)`
- 访问
- 追加和扩容
  - 容量计算和 go版本、追加数量、内存对齐相关
- 拷贝

### 练习

1. 数组和切片有什么区别？
2. 拷贝大切片比小切片的代价大吗？(这里的大指的切片容量大)
3. 切片拷贝的三种方式？深浅拷贝的区别？
4. 零切片、`nil`切片、空切片代表的含义相同吗？分别有什么用？
5. 扩容过程中，切片的容量是如何确定的？
6. 参数传递切片和切片指针有什么区别？
7. 使用`range`关键字遍历切片需要注意什么？

## Map

### 哈希表

**哈希表**是一种可以通过键获取值的数据结构。实现一个性能优异的哈希表需要注意两个关键点——**哈希函数**和**哈希碰撞**的解决方法。

- 哈希函数
- 冲突解决
  - 开放寻址法：依次探索、比较目标值、装载因子=元素个数/数组长度(>70%失效)
  - 拉链法：数组+链表、装载因子=元素数量/桶数量

### Map

![hmap-and-buckets](https://img.draveness.me/2020-10-18-16030322432679/hmap-and-buckets.png)

- 初始化 (>25)
  - 字面量：`hash := map[string]int{"1":2,"3":6,"5":6}`
  - 关键字：`hash := make(map[string]int)`
- 取值

### 练习

1. map 是线程安全的吗？
2. 如何比较两个map相等？使用`==`可以吗？
3. map 边遍历边删除可以吗？
4. map 中的 key 为什么是无序的？`float`类型可以作为map的key吗？
5. map 的扩容、删除、赋值、遍历过程。
6. 两种`get`操作的实现原理。
7. map 的实现原理。
